---
- summary: |
    Возможность зарегистироваться на сайте
  requirement: |
    Пользователь имеет возможность зарегистрироваться на Codebattle
  prerequisites: |
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    Тестовые данные
    Берем новый мейл
  steps:
    - Нажимает в верхнем левом углу "Зарестрироваться"
    - Вводим псевдоним
    - Вводим почту
    - Вводим пароль
    - Вводим подтверждение пароля
    - Нажимаем кнопку "Зарегестрироваться"
  expected-result: |
    Пользователь должен успешно зарегестрироваться, тоесть увидеть лобби, свой ник, указанный при регистрации

- summary: |
    Возможность авторизоваться на сайте
  requirement: |
    Пользователь имеет возможность авторизоваться на Codebattle
  prerequisites: |
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    Тестовые данные
    Берем данные зарегистрированного пользователя (мэйл и пароль)
  steps:
    - Нажимаем в верхнем левом углу "Войти"
    - Вводим почту
    - Вводим пароль
    - Нажимаем кнопку "Войти"
  expected-result: |
    Пользователь должен успешно авторизоваться на сайте, увидеть лобби, свой ник, указанный при регистрации

- summary: |
    Успешный вход на сайт при помощи ввода данных зарегестированного пользователя
  requirement: |
    При верном вводе логине и пароля пользователь должен войти в систему
  prerequisites: |
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Ввести почту = skatya1106@gmail.com
    - Ввести пароль = 123456
  expected-result: |
    Пользователь должен попасть в свой профиль

- summary: |
    Невалидный логин
  requirement: |
    При невалидном логине пользователь должен увидеть уведомление об ошибке
  prerequisites: |
    Открыта страница входа https://codebattle.hexlet.io/session/new?locale=en&next=%2F
  test-data: |
    Почта = error@gmail.
  steps:
    - Ввести почту = error@gmail.
  expected-result: |
    Пользователь должен увидеть уведомление об ошибке - "Неверный адрес электронной почты"

- summary: |
    Неверный пароль
  requirement: |
    При входе в профиль зарегестрированного пользователя с неверным паролем пользователь должен увидеть уведомление об ошибке
  prerequisites: |
    Открыта страница входа https://codebattle.hexlet.io/session/new?locale=en&next=%2F
  test-data: |
    Почта зарегистрированного пользователя
  steps:
    - Ввести почту
    - Ввести неверный пароль
  expected-result: |
    Пользователь должен увидеть уведомление об ошибке - "Неверный пароль". Вход в профиль не должен произойти

- summary: |
    Просмотр своего профиля
  requirement: |
    Пользователь имеет возможность просматривать свой профиль
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
  expected-result: |
    Пользователь должен увидеть свой профиль
    
- summary: |
    Просмотр своей статистики в профиле
  requirement: |
    Пользователь имеет возможность видеть свою статистику
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
    - Нажать на кнопку "Статистика"
    - Пролистать вниз
  expected-result: |
    Пользователь должен увидеть свою статистику: рагн, эло-ранг, количество сыгранных игр, две диаграммы и таблицу активности

- summary: |
    Просмотр завершенных игр в профиле
  requirement: |
    Пользователь имеет возможность видеть завершенные им игры в своем профиле
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
    - Нажать на кнопку "Завершенные игры"
  expected-result: |
    Пользователь должен увидеть завершенные им игры: уровень. соперника, дату игры и информацию об игре при переходе по кнопке "показывать"

- summary: |
    Переход в "настройки" своего профиля
  requirement: |
    Пользователь имеет возможность перейти в "настройки" своего профиля
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
    - Нажать на кнопку "Настройки"
  expected-result: |
    Пользователь должен увидеть на странице настройки: имя,оружие, клан, выбор "типа звука", выбор громкости, кнопку "сохранить", ссылки на Гидхаб и Дискорд

- summary: |
    Выбор языка програмирования в настройках профиля
  requirement: |
    Пользователь имеет возможность менять язык, выбрав один из 15 языков в настройках
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
    - Нажать на кнопку "Настройки"
    - Нажать на кнопку "Ваше оружие"
    - Выбрать любой язык из предложенных вариантов
    - Нажать на кнопку "Сохранить"
    - Зайти в "Мой профиль"
    - Убедиться что язык поменялся (под фото профиля будет язык)
    - Начать любую игру из предложенных в лобби
    - Посмотреть в своем редакторе слева - какой отображается язык
  expected-result: |
    Установился язык програмирования. который выбрал пользователь; пришло уведомление, что настройки сохранены; под фото в профиле отображается выбранный язык; в редакторе игры отображается выбранный язык

- summary: |
    Выбор "Типа звука" в настройках своего профиля
  requirement: |
    Пользователь имеет возможность выбрать в настройках тип звука из 4 предложенных
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
    - Нажать на кнопку "Настройки"
    - Выбрать поочередно каждый из четырех преложенных варинтов звука
    - Убедиться, что при выборе звука есть возможность его прослушать
    - Нажать на кнопку "Сохранить" после каждого выбора
    - Обновить страницу
    - Убедиться, что выбор звука не изменился после обновления
  expected-result: |
    Установился тип звука. который выбрал пользователь. Пришло уведомление, что настройки сохранены. после обновления страницы настройка актуальна

- summary: |
    Соответствие звуке в игре
  requirement: |
    Выбранный звук в настройках должен соответствовать звуку в игре
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
    - Нажать на кнопку "Настройки"
    - Выбрать поочередно каждый из четырех преложенных варинтов звука
    - Прослушать звук
    - Нажать на кнопку "Сохранить" после каждого выбора
    - Выбрать любую игру в лобби, начать ее
    - Нажать в игре кнопку "Ran"
    - Нажать кнопку "Сдаться"
  expected-result: |
    Выбранный звук соответствует звуку в игре

- summary: |
    Выбор уровня громкости в настройках профиля
  requirement: |
    Пользователь имеет возможность выбрать нужную громкость приложения путем "перетаскивания бегунка" в настройках профиля
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
    - Нажать на кнопку "Настройки"
    - Выбрать уровень звука, перетаскивая бегунок
    - Нажать на кнопку "Сохранить"
  expected-result: |
    Установился уровень звука. который выбрал пользователь. Пришло уведомление, что настройки сохранены

- summary: |
    Просмотр рейтинга всех пользователей
  requirement: |
    Пользователь может просмотреть рейтинг всех пользователей
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
    - Нажать на кнопку "Рейтинг пользователей"
    - Пролистать вниз
    - Нажать кнопку внизу с номером страницы "2", "3".
    - Нажать на кнопку "следующая"
    - Нажать на кнопку "в конец" списка
  expected-result: |
    Пользователь просмотрел рейтинг всех зарегистрированных пользователей

- summary: |
    Редактирование фото профиля
  requirement: |
    Пользователь может вставить свое фото в своем профиле
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку на верхней панели со своим псевдонимом
    - Нажать на кнопку "Мой профиль"
    - Слева рядом с фото нажать "радактировать фото"
    - Вставить свое фото
    - Нажать кнопку "Сохранить"
  expected-result: |
    Пользователь поменял фото профиля

- summary: |
    Создание игры
  requirement: |
    Пользователь имеет возможность создать игру
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку "Создать игру"
    - Выбрать тип игры "С ботом"
    - Остальные параметры оставить по умолчанию
    - Нажать на кнопку "Создать битву"
  expected-result: |
    Пользователь создал игру

- summary: |
    Настройка уровня сложности при создании игры
  requirement: |
    Пользователь может выбрать уровень сложности при создании игры
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку "Создать игру"
    - Выбрать первую из четырех уровней сложности 
    - Выбрать тип игры "С ботом"
    - Остальные параметры оставить по умолчанию
    - Нажать на кнопку "Создать битву"
    - После создания проверить в "Лобби" что сложность игры соответствует выбранной
    - Сделать шаги выше с тремя другими сложностями
  expected-result: |
    Пользователь создал игру с выбранной сложностью

- summary: |
    Выбор фона в текущей игре
  requirement: |
    Пользователь имеет возможность выбрать фон в окне игры
  prerequisites: |
    Создана игра с ботом, открыто окно игры
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на панеле посередине на кнопку "Солнце/луна"
  expected-result: |
    Пользователь поменял фон игры

- summary: |
    Ведение диалога с соперником в текущей игре
  requirement: |
    Пользователь имеет возможность вести диалог в чате текущей игры
  prerequisites: |
    Создана игра с ботом, открыто окно игры
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - В окне справа ввести любое сообщние с текстом
    - Нажать на кнопку "Отправить"
  expected-result: |
    Пользователь видит отправленное им сообщение в чате

- summary: |
    Отзыв в текущей игры
  requirement: |
    Пользователь имеет возможность отправить отзыв об игре находясь в игре
  prerequisites: |
    Создана игра с ботом, открыто окно игры
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - В нижнем правом углу нажать на кнопку "Отправить отзыв"
    - Выбрать тип отзыва
    - Ввести текст отзыва
    - Нажать на кнопку "Отправить отзыв"
  expected-result: |
    Пришло уведомление что отзыв отправлен

- summary: |
    Ожидание второго игрока
  requirement: |
    Пользователь находится в режиме ожидания второго игрока после создания игры с другим пользователем
  prerequisites: |
    Создана игра с дрвгим пользователем
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Проверить отображение игры в Лобби
    - Нажать рядом с названием своей игры кнопку "Продолжать"
    - Проверить статус игры
  expected-result: |
    После создания игры она отображается в Лобби и в ее статусе отображается "Ожидает противника"

- summary: |
    Игра созданная одним игроком доступна другим игрокам
  requirement: |
    Созданная одним пользователем игра высвечивается как "доступная для подключения" у других пользователей
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку ввверху справа "Создать игру"
    - Выбрать тип игры "С другим пользователем"
    - Остальные параметры создания игры оставить по умолчанию
    - Нажать "Создать битву"
    - Проверить отображение игры в Лобби
    - Выйти из профиля
    - Зайти на сайт под другим профилем
    - Провериь отображается ли как "доступная" игра созданная ранее
  expected-result: |
    При переходе в профиль другого игрока, игра созданная предыдущим игроком доступна всем

- summary: |
    Подключенее к игре, созданной другим игроком
  requirement: |
    Пользователь имеет возможность подключиться к игре, созданной другим игроком
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - В "Лобби" профиля выбрать любую игру из предложенных на выбор путем нажатия кнопки "Драться" рядом с ней
  expected-result: |
    Пользователь подключился к игре, он видит задание, время, два редактора (справа и слева)

- summary: |
    Два редактора в игре
  requirement: |
    Пользователь видит просле начала игры - два редактора (слева свой, справа соперника)
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - В "Лобби" профиля выбрать любую игру из предложенных на выбор путем нажатия кнопки "Драться" рядом с ней
    - В редакторе слева написать любой текст
  expected-result: |
    Пользователь видит два редактора, слева свой. там можно ввести текст, слева редактор соперника

- summary: |
    Создание игры с другом
  requirement: |
    Пользователь имеет возможность создать игру, пригласив друга
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Берем данные (почта и пароль) двух разных игроков 
  steps:
    - Нажимает кнопку "Создать игру"
    - В параметрах выбирает тип игры "С другом"
    - Вводим данные второго пользователя и выбираем его
    - Остальные параметры оставляем по умолчанию
    - Нажимаем "Создать игру"
    - Проверяем отображение игры - на верхней панели кнопка "С двумя мечами"
  expected-result: |
    Пользователь видит созданную игру с указанием нужного игрока(друга)

- summary: |
    Получение приглашения от друга
  requirement: |
    Пользователь имеет возможность получить приглашение на игру от друга
  prerequisites: |
    Создана игра "С другом" с указанием нужного ника
  test-data: |
    Берем данные (почта и пароль) двух разных игроков 
  steps:
    - Выходим из профиля пользователя с помощью которого была создана игра
    - Заходим в профиль второго пользователя, ник которого указали при приглашении
    - Проверяем на верхней панели с помощью кнопки "С двумя мечами" наличие приглашения
  expected-result: |
    Пользователь, которого пригласили. видит приглашение у себя в профиле

- summary: |
    Принятие приглашения от друга
  requirement: |
    Пользователь может принять приглашение на игру от друга
  prerequisites: |
    Создана игра "С другом" с указанием нужного ника
    Произведен вход в профиль пользователя, которому отправлено приглашение
  test-data: |
    Берем данные (почта и пароль) двух разных игроков 
  steps:
    - Проверяем на верхней панели с помощью кнопки "С двумя мечами" наличие приглашения
    - Нажимаем кнопку "Принять"
  expected-result: |
    Пользователь, которого пригласили, принял приглашение и игра началась ( открылись два редактора)

- summary: |
    Отклонение приглашения от друга 
  requirement: |
    Пользователь может отклонить приглашение на игру от друга
  prerequisites: |
    Создана игра "С другом" с указанием нужного ника
    Произведен вход в профиль пользователя, которому отправлено приглашение
  test-data: |
    Берем данные (почта и пароль) двух разных игроков 
  steps:
    - Проверяем на верхней панели с помощью кнопки "С двумя мечами" наличие приглашения
    - Нажимаем кнопку "Отклонить"
    - Обновляем страницу
  expected-result: |
    Приглашение на игру исчезло в верхней панеле

- summary: |
    Протокол HTTPS
  requirement: |
    Сайт должен быть безопасным и защищать данные пользователя
  prerequisites: |
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Посмотреть URL страницы, где указан протокол которым пользуется сайт "Hexlet Store"
  expected-result: |
    В URL страницы указан протокол HTTPS
    
- summary: |
    Мобильная версия
  requirement: |
    Сайт должен иметь мобильную версию
  prerequisites: |
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    iPhone 12 Pro
    iPhone 14 Pro Max
    Samsung Galaxy A51/71
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Открыть DevTools
    - Выбрать поочередно каждое из трех устройств из тестовых данных и с каждым сделать действия ниже
    - Войти в профиль используя почту и пароль в тестовых данных
    - Просмотреть "Лобби"
    - Зайти в настройки своего профиля и изменить там уровень звука
    - Нажать на кнопку "Сохранить"
    - Нажать на верхней панеле слева значок и логотипом игры
    - Написать сообщение в общем чате на главной странице и отправить его
    - Создать игру выбрав нужные параметры
    - Удалить созданную игру на главной странице нажав "Крестик" справа от названия игры в лобби
  expected-result: |
    Сайт должен быть адаптирован под выбранные устройства

- summary: |
    Кроссбраузерность
  requirement: |
    Сайт нужно протестировать на совместимость с последними версиями браузеров
  prerequisites: |
    Открыт сайт https://codebattle.hexlet.io/
  test-data: |
    Браузеры: Google Chrome, Safari, Firefox
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Открыть сайт "Codebattle" с помощью браузеров из тестовых данных
    - Проделать действия ниже на каждом из браузеров
    - Войти в профиль используя почту и пароль в тестовых данных
    - Просмотреть "Лобби"
    - Зайти в настройки своего профиля и изменить там  уровень звука
    - Нажать на кнопку "Сохранить"
    - Нажать на верхней панеле слева значок и логотипом игры
    - Написать сообщение в общем чате на главной странице и отправить его
    - Создать игру выбрав нужные параметры
    - Удалить созданную игру на главной странице нажав "Крестик" справа от названия игры в лобби
  expected-result: |
    Сайт корректно отображается на вышеуказанных браузерах

- summary: |
    Возможность сдаться в игре
  requirement: |
    Пользователь имеет возможность сдаться в игре
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку в "Лобби" рядом с любой игрой "Драться"
    - Нажать на панеле посередине на кнопку с тремя вертикальными точками
    - Нажать "Сдаться"
  expected-result: |
    Пользователь сдался в игре

- summary: |
    Отмена созданной игры
  requirement: |
    Пользователь может отменить созданную им игру
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку "Создать игру"
    - Выбрать любые параметры игры
    - Нажать на кнопку "Создать битву"
    - После создания игры в "Лобби" нажать крестик справа от названия игры
  expected-result: |
    Пользователь отменил созданную им игру

- summary: |
    Игра не должна прерваться при обновлении страницы
  requirement: |
    Игра не должна прерваться при обновлении страницы
  prerequisites: |
    Произведен вход в профиль пользователя
  test-data: |
    Почта = skatya1106@gmail.com
    Пароль = 123456
  steps:
    - Нажать на кнопку "Драться" в "Лобби" рядом с любым названием игры
    - Убедиться что игра началась
    - Обновить страницу
  expected-result: |
    После обновления страницы игра продолжилась, время игры отображается корректно
